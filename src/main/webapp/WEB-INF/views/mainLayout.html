<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title th:text="#{title}" layout:title-pattern="$CONTENT_TITLE - $DECORATOR_TITLE"></title>

    <meta charset="UTF-8"/>
    <meta name="content-type" content="text/html"/>
    <meta name="content-language" th:content="${#locale}"/>

    <meta name="description" content="expercise.com; programming challenges for champion developers!"/>
    <meta name="author" content="Ufuk Uzun, Batuhan Bayrakci"/>
    <meta name="keywords" content="expercise, exercise, challenge, programming, game, java, javascript, python, development"/>

    <link rel="canonical" th:href="${canonical}"/>

    <link rel="shortcut icon" th:href="@{/resources/img/expercise-logo-rounded.png}"/>

    <!--/* If only environment is 'development' */-->
    <link th:if="${developmentEnvironment}" th:href="@{/resources/style/bootstrap.min.css}" rel="stylesheet"/>
    <link th:if="${developmentEnvironment}" th:href="@{/resources/style/bootstrap-virtual-assistant.css}" rel="stylesheet"/>

    <link th:if="${developmentEnvironment}" th:href="@{/resources/style/font-awesome.min.css}" rel="stylesheet"/>

    <link th:if="${developmentEnvironment}" th:href="@{/resources/style/codemirror.css}" rel="stylesheet"/>
    <link th:if="${developmentEnvironment}" th:href="@{/resources/style/ambiance.css}" rel="stylesheet"/>

    <link th:if="${developmentEnvironment}" th:href="@{/resources/style/expercise.less}" rel="stylesheet/less"/>

    <!--/* If only environment is not 'development' */-->
    <link th:if="${not developmentEnvironment}" th:href="@{'/resources/style/compressed-' + __${buildId}__ + '.css'}" rel="stylesheet"/>

    <!--/* Google Analytics */-->
    <script th:unless="${#strings.isEmpty(googleAnalyticsApplicationKey)}" th:inline="javascript">
        (function (i, s, o, g, r, a, m) {
            i['GoogleAnalyticsObject'] = r;
            i[r] = i[r] || function () {
                (i[r].q = i[r].q || []).push(arguments)
            }, i[r].l = 1 * new Date();
            a = s.createElement(o), m = s.getElementsByTagName(o)[0];
            a.async = 1;
            a.src = g;
            m.parentNode.insertBefore(a, m)
        })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');
        ga('create', [[${googleAnalyticsApplicationKey}]], 'auto');
        ga('require', 'displayfeatures');
        ga('require', 'linkid', 'linkid.js');
        ga('send', 'pageview');
    </script>
</head>
<body>
    <div th:replace="fragments/header">Header</div>

    <div class="container">
        <div class="subContainer">
            <div layout:fragment="content">
                Page Content
            </div>
        </div>

        <div th:replace="fragments/footer">Footer</div>
    </div>

    <input th:replace="fragments/inputHiddens"/>

    <script th:replace="fragments/scripts"></script>

    <!--/* UserReport integration script */-->
    <script type="text/javascript" th:unless="${#strings.isEmpty(userReportApplicationKey)}" th:inline="javascript">
        var _urq = _urq || [];
        _urq.push(['initSite', [[${userReportApplicationKey}]]]);

        (function () {
            var ur = document.createElement('script');
            ur.type = 'text/javascript';
            ur.async = true;
            ur.src = ('https:' == document.location.protocol ? 'https://cdn.userreport.com/userreport.js' : 'http://cdn.userreport.com/userreport.js');
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(ur, s);
        })();
    </script>
</body>
</html>